<template>
  <!-- TODO: Try adding a <script> tag to this with document.onmousemove -->
  <div v-if="P.party.pos && P.party.pos.x && P.party.pos.y">
    <!-- <div style="position: fixed; top: 30px; left: 0px">
      <p>Username: <input v-model="private.newUsername" /></p>
      <button @click="setUsername()">Set</button>
    </div> -->
    <div
      class="absolute z-50 transition-all"
      style="pointer-events: none"
      :style="{'left': P.party.pos.x + 'px', 'top': P.party.pos.y + 'px' }"
    >
      <!-- Upcoming feature -->
      <img
        v-if="false"
        class="inline-block object-cover w-12 h-12 rounded-full"
        :src="P.party.pic"
        :alt="auth.username"
      />
      <div v-else class="inline-block">
        <div v-if="P.party.wayOut === 'DOWN'">
          <i class="fas fa-chevron-down"></i>
        </div>
        <div v-if="P.party.wayOut === 'UP'">
          <i class="fas fa-chevron-up"></i>
        </div>
      </div>
      <span
        v-if="P.party.wayOut === undefined"
        class="absolute bottom-0 left-0 inline-block w-3 h-3 border border-white rounded-full"
        :class="{'bg-green-600': P.party.status === CROWWWD.ONLINE, 'bg-yellow-600': P.party.status === CROWWWD.AWAY, 'bg-gray-600': P.party.status === undefined}"
      ></span>
      <span class="text-sm text-white" style="background-color: rgba(0, 0, 0, 0.5)">{{auth.username}}</span>
    </div>
  </div>
</template>
